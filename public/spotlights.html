<!DOCTYPE html>
<html class="light" lang="en">
  <head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <title>Spotlights - The News Curator</title>
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Lora:wght@400;700&family=Inter:wght@400;500;700&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined"
      rel="stylesheet"
    />
    <style type="text/tailwindcss">
      body {
        font-family: 'Inter', sans-serif;
      }
    </style>
    <script id="tailwind-config">
      tailwind.config = {
        darkMode: 'class',
        theme: {
          extend: {
            colors: {
              primary: '#3e84b6',
              'background-light': '#f6f7f8',
              'background-dark': '#121a20',
              'slate-blue': '#313e52',
              'steel-blue': '#496a8a',
              'heather-gray': '#a2b1b3',
            },
            fontFamily: {
              display: ['Lora', 'serif'],
              sans: ['Inter', 'sans-serif'],
            },
          },
        },
      };
    </script>
  </head>
  <body class="bg-background-light dark:bg-background-dark font-sans">
    <div
      class="relative flex h-auto min-h-screen w-full flex-col group/design-root overflow-x-hidden"
    >
      <div class="layout-container flex h-full grow flex-col">
        <!-- Header -->
        <header
          class="flex items-center justify-between whitespace-nowrap border-b border-solid border-slate-blue/20 dark:border-steel-blue/30 px-6 md:px-10 lg:px-20 py-4 bg-slate-blue text-heather-gray"
        >
          <!-- Logo Section -->
          <div class="flex items-center gap-3 text-white">
            <img
              src="assets/logo.png"
              alt="The News Curator Logo"
              class="h-16 w-16 object-contain"
            />
            <div class="flex flex-col">
              <h2
                class="font-display text-white text-xl font-bold leading-tight tracking-[-0.015em]"
              >
                The News Curator
              </h2>
              <p class="text-xs text-heather-gray/80 leading-tight">
                Curating the news that matters
              </p>
            </div>
          </div>

          <!-- Centered Navigation -->
          <nav class="hidden md:flex items-center justify-center gap-6 flex-1">
            <a
              class="text-sm font-medium leading-normal hover:text-white transition-colors"
              href="/"
              >World</a
            >
            <a
              class="text-sm font-medium leading-normal hover:text-white transition-colors"
              href="/"
              >Technology</a
            >
            <a
              class="text-sm font-medium leading-normal hover:text-white transition-colors"
              href="/"
              >Business</a
            >
            <a
              class="text-sm font-medium leading-normal hover:text-white transition-colors"
              href="/"
              >Economy</a
            >
            <a
              class="text-sm font-medium leading-normal hover:text-white transition-colors"
              href="/"
              >Environment</a
            >
            <a
              class="text-sm font-medium leading-normal hover:text-white transition-colors"
              href="/"
              >Education</a
            >
            <a
              class="text-sm font-medium leading-normal hover:text-white transition-colors"
              href="/"
              >Law & Crime</a
            >
            <a
              class="text-sm font-medium leading-normal hover:text-white transition-colors"
              href="/"
              >Science</a
            >
            <a
              class="text-sm font-medium leading-normal hover:text-white transition-colors"
              href="primary-sources.html"
              >Primary Sources</a
            >
          </nav>

          <!-- Right Side Section -->
          <div class="flex items-center gap-4">
            <label class="hidden sm:flex flex-col min-w-40 !h-10 max-w-64">
              <div class="flex w-full flex-1 items-stretch rounded-lg h-full">
                <div
                  class="text-heather-gray flex border-none bg-steel-blue/50 items-center justify-center pl-3 rounded-l-lg border-r-0"
                >
                  <span class="material-symbols-outlined">search</span>
                </div>
                <input
                  class="form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-lg text-white focus:outline-0 focus:ring-0 border-none bg-steel-blue/50 focus:border-none h-full placeholder:text-heather-gray px-4 rounded-l-none border-l-0 pl-2 text-sm font-normal leading-normal"
                  placeholder="Search"
                  value=""
                />
              </div>
            </label>
            <a
              href="/verification-dashboard.html"
              class="flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-lg h-10 px-4 bg-green-600 text-white text-sm font-bold leading-normal tracking-[0.015em] hover:bg-green-700 transition-colors"
            >
              <span class="truncate">üìä Dashboard</span>
            </a>
            <a
              href="/create.html"
              class="flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-lg h-10 px-4 bg-primary text-white text-sm font-bold leading-normal tracking-[0.015em] hover:bg-primary/90 transition-colors"
            >
              <span class="truncate">‚úèÔ∏è Create</span>
            </a>
          </div>
        </header>

        <!-- Main Content -->
        <main class="flex flex-1 justify-center py-8">
          <div
            class="layout-content-container flex flex-col w-full max-w-6xl px-6"
          >
            <!-- Page Header -->
            <div class="mb-12 text-center">
              <h1
                class="font-display text-slate-blue dark:text-background-light text-4xl md:text-5xl font-bold leading-tight tracking-tight mb-4"
              >
                Spotlights
              </h1>
              <p
                class="text-steel-blue dark:text-heather-gray text-xl font-normal leading-relaxed max-w-3xl mx-auto"
              >
                Featured articles and highlighted content that showcase the most
                important stories and insights
              </p>
            </div>

            <!-- Hero Section -->
            <div id="hero-spotlight" class="mb-16">
              <div
                class="bg-gradient-to-r from-primary/10 to-steel-blue/10 rounded-2xl p-8 md:p-12 border border-primary/20"
              >
                <div class="grid md:grid-cols-2 gap-8 items-center">
                  <div>
                    <div class="mb-4">
                      <span
                        id="hero-category"
                        class="text-primary font-semibold uppercase text-sm tracking-wider"
                        >Featured</span
                      >
                    </div>
                    <h2
                      id="hero-title"
                      class="font-display text-slate-blue text-3xl md:text-4xl font-bold leading-tight mb-4"
                    >
                      Loading featured article...
                    </h2>
                    <p
                      id="hero-excerpt"
                      class="text-steel-blue text-lg leading-relaxed mb-6"
                    >
                      Loading excerpt...
                    </p>
                    <div class="flex items-center gap-4 mb-6">
                      <span class="text-slate-blue"
                        >By
                        <span id="hero-author" class="font-semibold"
                          >Loading...</span
                        ></span
                      >
                      <span class="text-heather-gray">‚Ä¢</span>
                      <span id="hero-date" class="text-heather-gray"
                        >Loading...</span
                      >
                    </div>
                    <a
                      id="hero-link"
                      href="#"
                      class="inline-flex items-center gap-2 bg-primary hover:bg-primary/90 text-white px-6 py-3 rounded-lg font-medium transition-colors duration-200"
                    >
                      Read Article
                      <span class="material-symbols-outlined text-sm"
                        >arrow_forward</span
                      >
                    </a>
                  </div>
                  <div class="hidden md:block">
                    <div
                      id="hero-image"
                      class="aspect-video bg-gradient-to-br from-primary/20 to-steel-blue/20 rounded-lg flex items-center justify-center"
                    >
                      <span
                        class="material-symbols-outlined text-6xl text-primary/40"
                        >article</span
                      >
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Spotlight Articles Grid -->
            <div class="mb-12">
              <h2
                class="font-display text-slate-blue text-2xl md:text-3xl font-bold mb-8"
              >
                Spotlight Articles
              </h2>
              <div
                id="spotlights-grid"
                class="grid md:grid-cols-2 lg:grid-cols-3 gap-8"
              >
                <!-- Loading placeholder -->
                <div class="col-span-full text-center py-12">
                  <p class="text-heather-gray">Loading spotlight articles...</p>
                </div>
              </div>
            </div>
          </div>
        </main>

        <!-- Footer -->
        <footer class="bg-slate-blue text-heather-gray mt-16">
          <div class="max-w-7xl mx-auto py-16 px-6 sm:px-8 lg:px-10">
            <div class="grid grid-cols-2 md:grid-cols-4 gap-8">
              <div class="col-span-2 md:col-span-1">
                <div class="flex items-center gap-3 text-white mb-4">
                  <img
                    src="assets/logo.png"
                    alt="The News Curator Logo"
                    class="h-8 w-8 object-contain"
                  />
                  <div class="flex flex-col">
                    <h2
                      class="font-display text-white text-xl font-bold leading-tight"
                    >
                      The News Curator
                    </h2>
                    <p class="text-xs text-heather-gray/80 leading-tight">
                      Curating the news that matters
                    </p>
                  </div>
                </div>
                <p class="text-sm">Your trusted source for verified news.</p>
              </div>
              <div>
                <h3
                  class="font-bold text-white tracking-wider uppercase text-sm mb-3"
                >
                  Sections
                </h3>
                <nav class="flex flex-col space-y-2">
                  <a class="hover:text-white transition-colors" href="/"
                    >World</a
                  >
                  <a class="hover:text-white transition-colors" href="/"
                    >Technology</a
                  >
                  <a class="hover:text-white transition-colors" href="/"
                    >Business</a
                  >
                  <a class="hover:text-white transition-colors" href="/"
                    >Economy</a
                  >
                  <a class="hover:text-white transition-colors" href="/"
                    >Environment</a
                  >
                  <a class="hover:text-white transition-colors" href="/"
                    >Education</a
                  >
                  <a class="hover:text-white transition-colors" href="/"
                    >Law & Crime</a
                  >
                  <a class="hover:text-white transition-colors" href="/"
                    >Science</a
                  >
                </nav>
              </div>
              <div>
                <h3
                  class="font-bold text-white tracking-wider uppercase text-sm mb-3"
                >
                  About
                </h3>
                <nav class="flex flex-col space-y-2">
                  <a
                    href="transparency-page.html"
                    class="hover:text-white transition-colors"
                    >Transparency</a
                  >
                  <a
                    href="ai-policy.html"
                    class="hover:text-white transition-colors"
                    >AI Policy</a
                  >
                  <a class="hover:text-white transition-colors" href="#"
                    >Contact</a
                  >
                  <a class="hover:text-white transition-colors" href="#"
                    >Privacy Policy</a
                  >
                </nav>
              </div>
              <div>
                <h3
                  class="font-bold text-white tracking-wider uppercase text-sm mb-3"
                >
                  Follow Us
                </h3>
                <div class="flex space-x-4">
                  <a class="hover:text-white transition-colors" href="#">
                    <svg
                      aria-hidden="true"
                      class="h-6 w-6"
                      fill="currentColor"
                      viewbox="0 0 24 24"
                    >
                      <path
                        clip-rule="evenodd"
                        d="M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z"
                        fill-rule="evenodd"
                      ></path>
                    </svg>
                  </a>
                  <a class="hover:text-white transition-colors" href="#">
                    <svg
                      aria-hidden="true"
                      class="h-6 w-6"
                      fill="currentColor"
                      viewbox="0 0 24 24"
                    >
                      <path
                        d="M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.71v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84"
                      ></path>
                    </svg>
                  </a>
                </div>
              </div>
            </div>
            <div
              class="mt-8 border-t border-steel-blue/50 pt-8 text-center text-sm"
            >
              <p>¬© 2024 The News Curator. All Rights Reserved.</p>
            </div>
          </div>
        </footer>
      </div>
    </div>

    <script>
      async function loadSpotlights() {
        try {
          const response = await fetch('/api/spotlights.json');
          if (!response.ok) {
            throw new Error('Spotlights data not found');
          }

          const data = await response.json();

          // Sort featured articles by priority (higher priority first)
          const sortedFeatured = data.featured.sort(
            (a, b) => (b.priority || 0) - (a.priority || 0)
          );

          // Load hero spotlight (highest priority article)
          if (sortedFeatured.length > 0) {
            loadHeroSpotlight(sortedFeatured[0]);
          }

          // Load remaining spotlights in grid
          const remainingSpotlights = sortedFeatured.slice(1);
          loadSpotlightsGrid(remainingSpotlights);
        } catch (error) {
          console.error('Error loading spotlights:', error);
          showErrorState();
        }
      }

      function loadHeroSpotlight(article) {
        const heroCategory = document.getElementById('hero-category');
        const heroTitle = document.getElementById('hero-title');
        const heroExcerpt = document.getElementById('hero-excerpt');
        const heroAuthor = document.getElementById('hero-author');
        const heroDate = document.getElementById('hero-date');
        const heroLink = document.getElementById('hero-link');
        const heroImage = document.getElementById('hero-image');

        if (heroCategory)
          heroCategory.textContent = article.category || 'Featured';
        if (heroTitle) heroTitle.textContent = article.title || 'Untitled';
        if (heroExcerpt) heroExcerpt.textContent = article.excerpt || '';
        if (heroAuthor)
          heroAuthor.textContent = article.author || 'Unknown Author';
        if (heroDate) {
          const date = new Date(
            article.publishedAt || Date.now()
          ).toLocaleDateString('en-US', {
            year: 'numeric',
            month: 'long',
            day: 'numeric',
          });
          heroDate.textContent = date;
        }
        if (heroLink) heroLink.href = `/article.html?slug=${article.slug}`;

        // Update hero image if provided
        if (heroImage && article.imageUrl) {
          heroImage.innerHTML = `<img src="${article.imageUrl}" alt="${article.title}" class="w-full h-full object-cover rounded-lg">`;
        }
      }

      function loadSpotlightsGrid(articles) {
        const grid = document.getElementById('spotlights-grid');
        if (!grid) return;

        if (articles.length === 0) {
          grid.innerHTML = `
            <div class="col-span-full text-center py-12">
              <p class="text-heather-gray">No additional spotlight articles available.</p>
            </div>
          `;
          return;
        }

        const articlesHTML = articles
          .map((article) => createSpotlightCard(article))
          .join('');
        grid.innerHTML = articlesHTML;
      }

      function createSpotlightCard(article) {
        const formattedDate = new Date(
          article.publishedAt || Date.now()
        ).toLocaleDateString('en-US', {
          year: 'numeric',
          month: 'long',
          day: 'numeric',
        });

        const spotlightReason = article.spotlightReason
          ? `<div class="mb-3">
            <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-primary/10 text-primary">
              ${article.spotlightReason}
            </span>
          </div>`
          : '';

        const imageSection = article.imageUrl
          ? `<div class="aspect-video mb-4 overflow-hidden rounded-lg">
            <img src="${article.imageUrl}" alt="${article.title}" class="w-full h-full object-cover hover:scale-105 transition-transform duration-300">
          </div>`
          : `<div class="aspect-video mb-4 bg-gradient-to-br from-primary/10 to-steel-blue/10 rounded-lg flex items-center justify-center">
            <span class="material-symbols-outlined text-4xl text-primary/40">article</span>
          </div>`;

        return `
          <article class="bg-white dark:bg-slate-blue/20 rounded-xl shadow-sm hover:shadow-md transition-shadow duration-300 overflow-hidden border border-steel-blue/10">
            <a href="/article.html?slug=${
              article.slug
            }" class="block p-6 hover:bg-gray-50/50 dark:hover:bg-slate-blue/10 transition-colors duration-200">
              ${imageSection}
              ${spotlightReason}
              <div class="mb-2">
                <span class="text-primary font-semibold uppercase text-xs tracking-wider">
                  ${article.category || 'Spotlight'}
                </span>
              </div>
              <h3 class="font-display text-slate-blue dark:text-background-light text-xl font-bold leading-tight mb-3 line-clamp-2">
                ${article.title || 'Untitled'}
              </h3>
              <p class="text-steel-blue dark:text-heather-gray text-sm leading-relaxed mb-4 line-clamp-3">
                ${article.excerpt || ''}
              </p>
              <div class="flex items-center justify-between text-xs text-heather-gray">
                <span>By ${article.author || 'Unknown Author'}</span>
                <span>${formattedDate}</span>
              </div>
            </a>
          </article>
        `;
      }

      function showErrorState() {
        const heroTitle = document.getElementById('hero-title');
        const heroExcerpt = document.getElementById('hero-excerpt');
        const grid = document.getElementById('spotlights-grid');

        if (heroTitle) heroTitle.textContent = 'Spotlights Coming Soon';
        if (heroExcerpt)
          heroExcerpt.textContent =
            'We are currently preparing featured content for you. Please check back soon.';

        if (grid) {
          grid.innerHTML = `
            <div class="col-span-full text-center py-12">
              <div class="max-w-md mx-auto">
                <span class="material-symbols-outlined text-6xl text-heather-gray/40 mb-4 block">upcoming</span>
                <h3 class="text-slate-blue font-semibold text-lg mb-2">Spotlight Articles Coming Soon</h3>
                <p class="text-heather-gray text-sm">We're curating the best content to feature here. Check back soon for highlighted articles and featured stories.</p>
              </div>
            </div>
          `;
        }
      }

      document.addEventListener('DOMContentLoaded', function () {
        loadSpotlights();
      });
    </script>
  </body>
</html>
